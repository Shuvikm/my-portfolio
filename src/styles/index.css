@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== SMOOTH SCROLL ===== */
html.lenis {
	height: auto;
}

.lenis.lenis-smooth {
	scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
	overscroll-behavior: contain;
}

.lenis.lenis-stopped {
	overflow: hidden;
}

.lenis.lenis-scrolling iframe {
	pointer-events: none;
}

/* ===== MANGA COLOR PALETTE - Light Theme with Space Accents ===== */
:root {
	--manga-black: #1a1a2e;
	--manga-white: #ffffff;
	--manga-paper: #ffffff;
	--manga-ink: #000000;
	--manga-gray: #333333;
	--manga-accent: #fbbf24;
	--manga-red: #dc2626;
	--space-dark: #0f0f23;
	--space-blue: #16213e;
	--space-purple: #1a1a2e;
}

/* ===== MANGA GALLERY (In-Page Section) ===== */
.manga-gallery-display {
	position: relative;
	width: 100%;
	height: 70vh;
	min-height: 400px;
	max-height: 800px;
	background: #0a0a0a;
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: hidden;
}

.manga-gallery-image {
	max-width: 100%;
	max-height: 100%;
	width: auto;
	height: auto;
	object-fit: contain;
	transition: transform 0.5s ease;
}

.manga-gallery-display:hover .manga-gallery-image {
	transform: scale(1.02);
}

.manga-gallery-overlay {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
	padding: 60px 20px 20px;
	pointer-events: none;
}

.manga-gallery-info {
	text-align: center;
}

.manga-gallery-hint {
	font-size: 2.5rem;
	font-weight: 900;
	color: #fbbf24;
	text-shadow: 2px 2px 0 #000, 4px 4px 0 rgba(0, 0, 0, 0.5);
	margin-bottom: 0.5rem;
}

.manga-gallery-title {
	font-size: 1.2rem;
	font-weight: 700;
	color: #fff;
	text-transform: uppercase;
	letter-spacing: 0.1em;
}

.manga-gallery-subhint {
	font-size: 0.9rem;
	color: rgba(255, 255, 255, 0.7);
	font-style: italic;
	margin-top: 0.25rem;
}

.manga-gallery-nav {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	background: rgba(0, 0, 0, 0.7);
	border: 3px solid #fbbf24;
	color: #fbbf24;
	width: 60px;
	height: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
	z-index: 10;
}

.manga-gallery-prev {
	left: 20px;
}

.manga-gallery-next {
	right: 20px;
}

.manga-gallery-nav:hover {
	background: #fbbf24;
	color: #000;
	transform: translateY(-50%) scale(1.1);
	box-shadow: 0 0 30px rgba(251, 191, 36, 0.5);
}

.manga-gallery-counter {
	position: absolute;
	top: 20px;
	left: 50%;
	transform: translateX(-50%);
	background: rgba(0, 0, 0, 0.8);
	padding: 10px 20px;
	border: 2px solid rgba(251, 191, 36, 0.5);
}

.manga-gallery-thumbnails {
	display: flex;
	gap: 8px;
	padding: 15px;
	background: #1a1a1a;
	overflow-x: auto;
	scrollbar-width: thin;
	scrollbar-color: #fbbf24 #0a0a0a;
}

.manga-gallery-thumbnails::-webkit-scrollbar {
	height: 8px;
}

.manga-gallery-thumbnails::-webkit-scrollbar-track {
	background: #0a0a0a;
}

.manga-gallery-thumbnails::-webkit-scrollbar-thumb {
	background: #fbbf24;
}

.manga-gallery-thumb {
	flex-shrink: 0;
	width: 80px;
	height: 80px;
	border: 3px solid transparent;
	cursor: pointer;
	transition: all 0.3s ease;
	overflow: hidden;
	opacity: 0.5;
}

.manga-gallery-thumb img {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

.manga-gallery-thumb:hover {
	opacity: 0.8;
	border-color: rgba(251, 191, 36, 0.5);
}

.manga-gallery-thumb.active {
	opacity: 1;
	border-color: #fbbf24;
	box-shadow: 0 0 15px rgba(251, 191, 36, 0.5);
}

@media (max-width: 768px) {
	.manga-gallery-display {
		height: 50vh;
		min-height: 300px;
	}

	.manga-gallery-hint {
		font-size: 1.5rem;
	}

	.manga-gallery-title {
		font-size: 1rem;
	}

	.manga-gallery-nav {
		width: 45px;
		height: 45px;
	}

	.manga-gallery-prev {
		left: 10px;
	}

	.manga-gallery-next {
		right: 10px;
	}

	.manga-gallery-thumb {
		width: 60px;
		height: 60px;
	}
}

.manga-cinema-display {
	position: relative;
	width: 100%;
	height: 80vh;
	min-height: 500px;
	max-height: 900px;
	background: linear-gradient(135deg, var(--space-dark) 0%, var(--space-blue) 50%, var(--space-purple) 100%);
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: hidden;
}

/* Animated starfield effect */
.manga-cinema-display::before {
	content: '';
	position: absolute;
	inset: 0;
	background-image:
		radial-gradient(2px 2px at 20% 30%, white, transparent),
		radial-gradient(2px 2px at 60% 70%, white, transparent),
		radial-gradient(1px 1px at 50% 50%, white, transparent),
		radial-gradient(1px 1px at 80% 10%, white, transparent),
		radial-gradient(2px 2px at 90% 60%, white, transparent),
		radial-gradient(1px 1px at 33% 85%, white, transparent),
		radial-gradient(2px 2px at 75% 35%, white, transparent);
	background-size: 200% 200%;
	background-position: 0% 0%;
	animation: twinkleStars 20s ease-in- infinite;
	opacity: 0.6;
	pointer-events: none;
}

@keyframes twinkleStars {

	0%,
	100% {
		background-position: 0% 0%;
		opacity: 0.6;
	}

	50% {
		background-position: 100% 100%;
		opacity: 0.8;
	}
}

.manga-cinema-frame {
	position: relative;
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	/* Cinema letterbox effect */
	border-top: 4px solid #fbbf24;
	border-bottom: 4px solid #fbbf24;
}

.manga-cinema-slide {
	position: relative;
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	opacity: 1;
	transition: opacity 0.5s ease, transform 0.5s ease;
}

.manga-cinema-slide.transitioning {
	opacity: 0;
	transform: scale(1.1);
}

.manga-cinema-image {
	max-width: 100%;
	max-height: 100%;
	width: auto;
	height: auto;
	object-fit: contain;
	/* Ken Burns zoom effect */
	animation: cinemaZoom 5s ease-out forwards;
}

@keyframes cinemaZoom {
	from {
		transform: scale(1.1);
		filter: brightness(0.5);
	}

	to {
		transform: scale(1);
		filter: brightness(1);
	}
}

.manga-cinema-overlay {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	background: linear-gradient(transparent, rgba(0, 0, 0, 0.95));
	padding: 80px 30px 30px;
	opacity: 0;
	transform: translateY(20px);
	transition: all 0.8s ease;
	pointer-events: none;
}

.manga-cinema-overlay.show {
	opacity: 1;
	transform: translateY(0);
}

.manga-cinema-info {
	text-align: center;
}

.manga-cinema-hint {
	font-size: 3rem;
	font-weight: 900;
	color: #fbbf24;
	text-shadow: 3px 3px 0 #000, 5px 5px 10px rgba(0, 0, 0, 0.8);
	margin-bottom: 0.5rem;
	animation: hintGlow 2s ease-in-out infinite;
}

@keyframes hintGlow {

	0%,
	100% {
		text-shadow: 3px 3px 0 #000, 0 0 20px rgba(251, 191, 36, 0.3);
	}

	50% {
		text-shadow: 3px 3px 0 #000, 0 0 40px rgba(251, 191, 36, 0.6);
	}
}

.manga-cinema-title {
	font-size: 1.5rem;
	font-weight: 800;
	color: #fff;
	text-transform: uppercase;
	letter-spacing: 0.2em;
	margin-bottom: 0.25rem;
}

.manga-cinema-subhint {
	font-size: 1rem;
	color: rgba(255, 255, 255, 0.7);
	font-style: italic;
}

/* Progress Bar */
.manga-cinema-progress {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 4px;
	background: rgba(255, 255, 255, 0.2);
}

.manga-cinema-progress-bar {
	height: 100%;
	background: linear-gradient(90deg, #fbbf24, #f59e0b);
	width: 0;
	animation: progressFill 5s linear forwards;
}

@keyframes progressFill {
	from {
		width: 0;
	}

	to {
		width: 100%;
	}
}

/* Navigation Arrows */
.manga-cinema-nav {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	background: rgba(0, 0, 0, 0.8);
	border: 3px solid #fbbf24;
	color: #fbbf24;
	width: 70px;
	height: 70px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
	z-index: 10;
	opacity: 0.7;
}

.manga-cinema-prev {
	left: 30px;
}

.manga-cinema-next {
	right: 30px;
}

.manga-cinema-nav:hover {
	background: #fbbf24;
	color: #000;
	transform: translateY(-50%) scale(1.1);
	box-shadow: 0 0 40px rgba(251, 191, 36, 0.7);
	opacity: 1;
}

/* Counter */
.manga-cinema-counter {
	position: absolute;
	top: 30px;
	left: 50%;
	transform: translateX(-50%);
	background: rgba(0, 0, 0, 0.9);
	padding: 15px 30px;
	border: 3px solid #fbbf24;
	display: flex;
	align-items: baseline;
}

/* Thumbnails */
.manga-cinema-thumbnails {
	display: flex;
	gap: 10px;
	padding: 20px;
	background: linear-gradient(#0a0a0a, #1a1a1a);
	overflow-x: auto;
	scrollbar-width: thin;
	scrollbar-color: #fbbf24 #0a0a0a;
	justify-content: center;
}

.manga-cinema-thumb {
	position: relative;
	flex-shrink: 0;
	width: 90px;
	height: 90px;
	border: 3px solid transparent;
	cursor: pointer;
	transition: all 0.3s ease;
	overflow: hidden;
	opacity: 0.4;
}

.manga-cinema-thumb img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	transition: transform 0.3s ease;
}

.manga-cinema-thumb:hover {
	opacity: 0.7;
	border-color: rgba(251, 191, 36, 0.5);
}

.manga-cinema-thumb:hover img {
	transform: scale(1.1);
}

.manga-cinema-thumb.active {
	opacity: 1;
	border-color: #fbbf24;
	box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
}

.manga-cinema-thumb .thumb-number {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	background: rgba(0, 0, 0, 0.8);
	color: #fbbf24;
	font-size: 0.7rem;
	font-weight: 900;
	text-align: center;
	padding: 2px;
}

/* Mobile Responsive */
@media (max-width: 768px) {
	.manga-cinema-display {
		height: 60vh;
		min-height: 350px;
	}

	.manga-cinema-hint {
		font-size: 1.8rem;
	}

	.manga-cinema-title {
		font-size: 1rem;
		letter-spacing: 0.1em;
	}

	.manga-cinema-nav {
		width: 50px;
		height: 50px;
	}

	.manga-cinema-prev {
		left: 10px;
	}

	.manga-cinema-next {
		right: 10px;
	}

	.manga-cinema-thumb {
		width: 65px;
		height: 65px;
	}

	.manga-cinema-counter {
		padding: 10px 20px;
	}
}

/* ===== ACTION BUTTONS ===== */
.manga-button-sm {
	background: #1a1a1a;
	border: 2px solid #fbbf24;
	color: #fbbf24;
	padding: 8px 12px;
	cursor: pointer;
	transition: all 0.3s ease;
}

.manga-button-sm:hover {
	background: #fbbf24;
	color: #000;
}

.manga-cinema-actions {
	position: absolute;
	bottom: 30px;
	right: 30px;
	display: flex;
	gap: 10px;
	z-index: 15;
}

.manga-action-btn {
	background: rgba(0, 0, 0, 0.8);
	border: 2px solid rgba(251, 191, 36, 0.5);
	color: rgba(255, 255, 255, 0.7);
	width: 45px;
	height: 45px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
	position: relative;
}

.manga-action-btn:hover,
.manga-action-btn.active {
	background: rgba(251, 191, 36, 0.2);
	border-color: #fbbf24;
	color: #fbbf24;
}

.manga-action-btn .vote-count {
	position: absolute;
	top: -8px;
	right: -8px;
	background: #fbbf24;
	color: #000;
	font-size: 0.7rem;
	font-weight: 900;
	padding: 2px 6px;
	border-radius: 50%;
}

/* Share Menu */
.manga-share-menu {
	position: absolute;
	bottom: 85px;
	right: 30px;
	background: rgba(0, 0, 0, 0.95);
	border: 2px solid #fbbf24;
	padding: 10px;
	display: flex;
	flex-direction: column;
	gap: 5px;
	z-index: 20;
}

.manga-share-menu button {
	display: flex;
	align-items: center;
	gap: 10px;
	background: transparent;
	border: none;
	color: #fff;
	padding: 10px 15px;
	cursor: pointer;
	transition: all 0.2s ease;
	font-size: 0.9rem;
}

.manga-share-menu button:hover {
	background: rgba(251, 191, 36, 0.2);
	color: #fbbf24;
}

/* Info Panel */
.manga-info-panel {
	position: absolute;
	bottom: 60px;
	left: 30px;
	right: 200px;
	background: rgba(0, 0, 0, 0.95);
	border: 2px solid #fbbf24;
	padding: 20px;
	z-index: 15;
}

.manga-info-panel h3 {
	color: #fbbf24;
	font-size: 1.3rem;
	font-weight: 900;
	margin-bottom: 5px;
}

.manga-info-panel .episode {
	color: rgba(255, 255, 255, 0.6);
	font-size: 0.85rem;
	margin-bottom: 10px;
}

.manga-info-panel .description {
	color: #fff;
	font-size: 0.95rem;
	line-height: 1.5;
}

/* Thumbnail Heart */
.manga-cinema-thumb .thumb-heart {
	position: absolute;
	top: 5px;
	right: 5px;
	width: 16px;
	height: 16px;
	color: #ff4757;
	fill: #ff4757;
}

.manga-cinema-thumb.favorited {
	border-color: #ff4757;
}

/* ===== FULLSCREEN LIGHTBOX ===== */
.manga-lightbox {
	position: fixed;
	inset: 0;
	background: rgba(0, 0, 0, 0.98);
	z-index: 10000;
	display: flex;
	align-items: center;
	justify-content: center;
	animation: lightboxFadeIn 0.3s ease;
}

@keyframes lightboxFadeIn {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

.lightbox-close {
	position: absolute;
	top: 20px;
	right: 20px;
	background: transparent;
	border: 2px solid #fbbf24;
	color: #fbbf24;
	width: 50px;
	height: 50px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
	z-index: 10;
}

.lightbox-close:hover {
	background: #fbbf24;
	color: #000;
}

.lightbox-image-container {
	max-width: 90vw;
	max-height: 85vh;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: transform 0.3s ease;
}

.lightbox-image-container.zoomed {
	transform: scale(1.5);
	cursor: zoom-out;
}

.lightbox-image-container:not(.zoomed) {
	cursor: zoom-in;
}

.lightbox-image {
	max-width: 100%;
	max-height: 85vh;
	object-fit: contain;
}

.lightbox-info {
	position: absolute;
	bottom: 30px;
	left: 50%;
	transform: translateX(-50%);
	text-align: center;
	color: #fff;
}

.lightbox-info h3 {
	color: #fbbf24;
	font-size: 2rem;
	font-weight: 900;
	text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
}

.lightbox-info p {
	color: rgba(255, 255, 255, 0.8);
	margin-top: 5px;
}

.lightbox-nav {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	background: rgba(0, 0, 0, 0.5);
	border: 3px solid #fbbf24;
	color: #fbbf24;
	width: 80px;
	height: 80px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
}

.lightbox-prev {
	left: 30px;
}

.lightbox-next {
	right: 30px;
}

.lightbox-nav:hover {
	background: #fbbf24;
	color: #000;
	transform: translateY(-50%) scale(1.1);
}

.lightbox-zoom {
	position: absolute;
	bottom: 30px;
	right: 30px;
}

.lightbox-zoom button {
	background: rgba(0, 0, 0, 0.8);
	border: 2px solid #fbbf24;
	color: #fbbf24;
	width: 50px;
	height: 50px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 0.3s ease;
}

.lightbox-zoom button:hover {
	background: #fbbf24;
	color: #000;
}

.lightbox-counter {
	position: absolute;
	top: 30px;
	left: 50%;
	transform: translateX(-50%);
	color: #fbbf24;
	font-size: 1.2rem;
	font-weight: 900;
}

/* Mobile Responsive for new features */
@media (max-width: 768px) {
	.manga-cinema-actions {
		bottom: 15px;
		right: 15px;
		gap: 5px;
	}

	.manga-action-btn {
		width: 38px;
		height: 38px;
	}

	.manga-info-panel {
		left: 15px;
		right: 15px;
		bottom: 60px;
		padding: 15px;
	}

	.manga-share-menu {
		right: 15px;
		bottom: 70px;
	}

	.lightbox-nav {
		width: 50px;
		height: 50px;
	}

	.lightbox-prev {
		left: 10px;
	}

	.lightbox-next {
		right: 10px;
	}

	.lightbox-info h3 {
		font-size: 1.3rem;
	}
}

/* ===== MANGA INTRO SLIDESHOW ===== */
.manga-intro {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	z-index: 9999;
	background: #000;
	cursor: pointer;
	animation: introFadeIn 0.5s ease-out;
	overflow: hidden;
}

.manga-intro-exit {
	animation: introFadeOut 0.8s ease-in-out forwards;
}

@keyframes introFadeIn {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes introFadeOut {
	0% {
		opacity: 1;
		transform: scale(1);
	}

	50% {
		opacity: 0.5;
		transform: scale(1.1);
	}

	100% {
		opacity: 0;
		transform: scale(1.2);
	}
}

.manga-intro-bg {
	position: absolute;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	background-position: center center;
	background-repeat: no-repeat;
	background-color: #0a0a0a;
	animation: bgZoom 6s ease-out forwards;

	/* Default: contain for narrow/portrait screens - show full panel */
	background-size: contain;
}

/* Wide screens (16:9 and wider) - use cover for full bleed */
@media (min-aspect-ratio: 4/3) {
	.manga-intro-bg {
		background-size: cover;
	}
}

/* Very wide screens (ultrawide monitors) - keep cover but zoom less */
@media (min-aspect-ratio: 21/9) {
	.manga-intro-bg {
		background-size: cover;
		background-position: center 30%;
	}
}

/* Portrait/narrow screens - always contain to show full panel */
@media (max-aspect-ratio: 1/1) {
	.manga-intro-bg {
		background-size: contain;
	}
}

@keyframes bgZoom {
	from {
		transform: scale(1.05);
		filter: brightness(0.4);
	}

	to {
		transform: scale(1);
		filter: brightness(0.9);
	}
}

.manga-intro-overlay {
	position: absolute;
	inset: 0;
	background:
		linear-gradient(to bottom, rgba(0, 0, 0, 0.6) 0%, transparent 30%, transparent 70%, rgba(0, 0, 0, 0.8) 100%),
		repeating-linear-gradient(0deg,
			transparent,
			transparent 2px,
			rgba(0, 0, 0, 0.1) 2px,
			rgba(0, 0, 0, 0.1) 4px);
}

.manga-intro-content {
	position: relative;
	z-index: 10;
	height: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 40px;
}

/* Slide Counter */
.manga-intro-counter {
	position: absolute;
	top: 40px;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	align-items: baseline;
	gap: 8px;
	font-weight: 900;
}

.manga-intro-counter .current {
	font-size: 4rem;
	color: var(--manga-accent);
	text-shadow: 3px 3px 0 #000;
	animation: numberPop 0.5s ease-out;
}

.manga-intro-counter .separator {
	font-size: 2rem;
	color: #fff;
	opacity: 0.5;
}

.manga-intro-counter .total {
	font-size: 2rem;
	color: #fff;
	opacity: 0.7;
}

@keyframes numberPop {
	0% {
		transform: scale(0);
		opacity: 0;
	}

	50% {
		transform: scale(1.3);
	}

	100% {
		transform: scale(1);
		opacity: 1;
	}
}

/* Hint Text */
.manga-intro-hint {
	text-align: center;
	opacity: 0;
	transform: translateY(30px);
	transition: all 0.5s ease-out;
}

.manga-intro-hint.show {
	opacity: 1;
	transform: translateY(0);
}

.manga-intro-hint .hint-jp {
	font-size: 4rem;
	font-weight: 900;
	color: #fff;
	text-shadow:
		3px 3px 0 var(--manga-accent),
		6px 6px 0 #000;
	letter-spacing: 0.1em;
	margin-bottom: 16px;
	animation: hintGlow 2s ease-in-out infinite;
}

@keyframes hintGlow {

	0%,
	100% {
		text-shadow:
			3px 3px 0 var(--manga-accent),
			6px 6px 0 #000,
			0 0 20px rgba(251, 191, 36, 0.3);
	}

	50% {
		text-shadow:
			3px 3px 0 var(--manga-accent),
			6px 6px 0 #000,
			0 0 40px rgba(251, 191, 36, 0.6);
	}
}

.manga-intro-hint .hint-en {
	font-size: 1.5rem;
	color: var(--manga-accent);
	text-transform: uppercase;
	letter-spacing: 0.3em;
	font-weight: 700;
}

/* Progress Dots */
.manga-intro-progress {
	position: absolute;
	bottom: 100px;
	display: flex;
	gap: 16px;
}

.progress-dot {
	width: 12px;
	height: 12px;
	background: rgba(255, 255, 255, 0.3);
	border: 2px solid #fff;
	transition: all 0.3s ease;
}

.progress-dot.active {
	background: var(--manga-accent);
	border-color: var(--manga-accent);
	transform: scale(1.3);
	box-shadow: 0 0 20px var(--manga-accent);
}

.progress-dot.done {
	background: var(--manga-accent);
	border-color: var(--manga-accent);
}

/* Instructions */
.manga-intro-instructions {
	position: absolute;
	bottom: 50px;
	color: rgba(255, 255, 255, 0.6);
	font-size: 0.9rem;
	text-transform: uppercase;
	letter-spacing: 0.2em;
	animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {

	0%,
	100% {
		opacity: 0.6;
	}

	50% {
		opacity: 1;
	}
}

/* Skip Button */
.manga-intro-skip {
	position: absolute;
	top: 40px;
	right: 40px;
	background: transparent;
	border: 2px solid rgba(255, 255, 255, 0.5);
	color: rgba(255, 255, 255, 0.7);
	padding: 10px 24px;
	font-size: 0.85rem;
	font-weight: 700;
	letter-spacing: 0.15em;
	cursor: pointer;
	transition: all 0.3s ease;
	z-index: 20;
}

.manga-intro-skip:hover {
	background: var(--manga-accent);
	border-color: var(--manga-accent);
	color: #000;
	transform: translateX(5px);
}

/* Navigation Buttons (Prev/Next) */
.manga-intro-nav {
	position: absolute;
	bottom: 50%;
	transform: translateY(50%);
	background: rgba(0, 0, 0, 0.7);
	border: 3px solid var(--manga-accent);
	color: var(--manga-accent);
	padding: 16px 24px;
	font-size: 1rem;
	font-weight: 900;
	letter-spacing: 0.1em;
	cursor: pointer;
	transition: all 0.3s ease;
	z-index: 20;
	text-transform: uppercase;
}

.manga-intro-prev {
	left: 30px;
}

.manga-intro-next {
	right: 30px;
}

.manga-intro-nav:hover:not(.disabled) {
	background: var(--manga-accent);
	color: #000;
	transform: translateY(50%) scale(1.05);
	box-shadow: 0 0 30px var(--manga-accent);
}

.manga-intro-nav.disabled {
	opacity: 0.3;
	cursor: not-allowed;
	border-color: rgba(255, 255, 255, 0.3);
	color: rgba(255, 255, 255, 0.3);
}

/* Manga Frame Border */
.manga-intro-frame {
	position: absolute;
	inset: 20px;
	border: 4px solid rgba(255, 255, 255, 0.2);
	pointer-events: none;
}

.manga-intro-frame::before,
.manga-intro-frame::after {
	content: '';
	position: absolute;
	width: 30px;
	height: 30px;
	border: 4px solid var(--manga-accent);
}

.manga-intro-frame::before {
	top: -4px;
	left: -4px;
	border-right: none;
	border-bottom: none;
}

.manga-intro-frame::after {
	bottom: -4px;
	right: -4px;
	border-left: none;
	border-top: none;
}

/* Mobile Responsive */
@media (max-width: 768px) {
	.manga-intro-hint .hint-jp {
		font-size: 2.5rem;
	}

	.manga-intro-hint .hint-en {
		font-size: 1rem;
		letter-spacing: 0.15em;
	}

	.manga-intro-counter .current {
		font-size: 3rem;
	}

	.manga-intro-skip {
		top: 20px;
		right: 20px;
		padding: 8px 16px;
		font-size: 0.75rem;
	}

	.manga-intro-frame {
		inset: 10px;
	}

	.manga-intro-nav {
		padding: 12px 16px;
		font-size: 0.8rem;
	}

	.manga-intro-prev {
		left: 10px;
	}

	.manga-intro-next {
		right: 10px;
	}
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	background: #001026;
	color: #ffffff;
	overflow-x: hidden;
	font-size: 18px;
	line-height: 1.6;
}

h1,
h2,
h3,
h4,
h5,
h6,
.manga-title,
.manga-subtitle {
	font-family: 'Inter', sans-serif !important;
	color: #fbbf24 !important;
	font-weight: 700;
}

/* ===== CUSTOM SCROLLBAR ===== */
::-webkit-scrollbar {
	width: 12px;
	height: 12px;
}

::-webkit-scrollbar-track {
	background: var(--manga-ink);
	border: 2px solid var(--manga-black);
}

::-webkit-scrollbar-thumb {
	background: var(--manga-accent);
	border: 2px solid var(--manga-ink);
}

::-webkit-scrollbar-thumb:hover {
	background: #f59e0b;
}

/* For Firefox */
* {
	scrollbar-width: auto;
	scrollbar-color: var(--manga-accent) var(--manga-ink);
}

/* Modal scrollbar visibility */
.modal-scrollable {
	overflow-y: auto;
	scrollbar-width: auto;
}

.modal-scrollable::-webkit-scrollbar {
	width: 10px;
}

/* ===== MANGA PAGE CONTAINER ===== */
.manga-page {
	max-width: 1200px;
	margin: 0 auto;
	padding: 80px 20px 40px;
	background: transparent;
}

/* ===== MANGA PANEL SYSTEM ===== */
.manga-panel {
	position: relative;
	background: #ffffff;
	border: 5px solid var(--manga-ink);
	box-shadow: 10px 10px 0 rgba(0, 0, 0, 0.1);
	overflow: hidden;
}

/* ===== DRAMATIC EFFECTS (One Punch Man Style) ===== */

/* Intense Speed Lines - Horizontal */
.intense-speed-lines {
	position: absolute;
	inset: 0;
	background: repeating-linear-gradient(90deg,
			transparent 0px,
			transparent 4px,
			rgba(0, 0, 0, 0.15) 4px,
			rgba(0, 0, 0, 0.15) 5px);
	pointer-events: none;
	animation: speed-pulse 0.3s infinite alternate;
}

@keyframes speed-pulse {
	0% {
		opacity: 0.5;
	}

	100% {
		opacity: 1;
	}
}

/* Radial Impact Lines - From center */
.radial-impact {
	position: absolute;
	inset: 0;
	background: radial-gradient(circle at center,
			transparent 0%,
			transparent 20%,
			rgba(0, 0, 0, 0.05) 20.5%,
			transparent 21%,
			transparent 30%,
			rgba(0, 0, 0, 0.05) 30.5%,
			transparent 31%,
			transparent 40%,
			rgba(0, 0, 0, 0.05) 40.5%,
			transparent 41%,
			transparent 50%,
			rgba(0, 0, 0, 0.05) 50.5%,
			transparent 51%);
	pointer-events: none;
}

/* Dramatic Burst Lines */
.burst-lines {
	position: absolute;
	inset: 0;
	background: conic-gradient(from 0deg,
			transparent 0deg,
			rgba(0, 0, 0, 0.1) 2deg,
			transparent 4deg,
			transparent 10deg,
			rgba(0, 0, 0, 0.1) 12deg,
			transparent 14deg);
	pointer-events: none;
}

/* Action Panel - Tilted with motion blur effect */
.action-panel {
	position: relative;
	background: var(--manga-white);
	border: 6px solid var(--manga-ink);
	box-shadow:
		12px 12px 0 rgba(0, 0, 0, 0.9),
		-2px -2px 0 rgba(255, 255, 255, 0.3);
	transform: rotate(-1deg);
	overflow: hidden;
}

.action-panel::before {
	content: '';
	position: absolute;
	inset: 0;
	background: repeating-linear-gradient(-45deg,
			transparent 0px,
			transparent 10px,
			rgba(0, 0, 0, 0.03) 10px,
			rgba(0, 0, 0, 0.03) 12px);
	pointer-events: none;
}

/* Impact Frame - For dramatic moments */
.impact-frame {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-black);
	border: 8px solid var(--manga-black);
	box-shadow:
		0 0 0 3px var(--manga-ink),
		15px 15px 0 var(--manga-accent);
	overflow: hidden;
}

.impact-frame::after {
	content: '';
	position: absolute;
	inset: 0;
	background: radial-gradient(ellipse at center,
			transparent 30%,
			rgba(255, 255, 255, 0.1) 70%);
	pointer-events: none;
}

/* Screentone Effect */
.screentone {
	position: absolute;
	inset: 0;
	background-image: radial-gradient(circle, rgba(0, 0, 0, 0.2) 1px, transparent 1px);
	background-size: 3px 3px;
	pointer-events: none;
}

/* Heavy Screentone */
.screentone-heavy {
	position: absolute;
	inset: 0;
	background-image: radial-gradient(circle, rgba(0, 0, 0, 0.4) 1.5px, transparent 1.5px);
	background-size: 4px 4px;
	pointer-events: none;
}

/* Cross Hatch Effect */
.cross-hatch {
	position: absolute;
	inset: 0;
	background:
		repeating-linear-gradient(45deg,
			transparent 0px,
			transparent 3px,
			rgba(0, 0, 0, 0.08) 3px,
			rgba(0, 0, 0, 0.08) 4px),
		repeating-linear-gradient(-45deg,
			transparent 0px,
			transparent 3px,
			rgba(0, 0, 0, 0.08) 3px,
			rgba(0, 0, 0, 0.08) 4px);
	pointer-events: none;
}

/* Dramatic Text Shadow */
.dramatic-text {
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 0.1em;
	text-shadow:
		3px 3px 0 var(--manga-ink),
		-1px -1px 0 var(--manga-ink),
		1px -1px 0 var(--manga-ink),
		-1px 1px 0 var(--manga-ink),
		6px 6px 0 rgba(0, 0, 0, 0.3);
}

.manga-panel-dark {
	background: #ffffff;
	color: #000000;
	border-color: #000000;
}

.manga-panel-accent {
	border-color: var(--manga-accent);
	box-shadow: 8px 8px 0 var(--manga-accent);
}

/* Panel Grid Layouts */
.panel-grid {
	display: grid;
	gap: 16px;
}

.panel-grid-2 {
	grid-template-columns: repeat(2, 1fr);
}

.panel-grid-3 {
	grid-template-columns: repeat(3, 1fr);
}

.panel-grid-asymmetric {
	grid-template-columns: 2fr 1fr;
}

.panel-grid-asymmetric-reverse {
	grid-template-columns: 1fr 2fr;
}

@media (max-width: 768px) {

	.panel-grid-2,
	.panel-grid-3,
	.panel-grid-asymmetric,
	.panel-grid-asymmetric-reverse {
		grid-template-columns: 1fr;
	}
}

/* ===== SPEECH BUBBLES ===== */
.speech-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 3px solid var(--manga-ink);
	border-radius: 20px;
	padding: 16px 24px;
	font-weight: 500;
}

.speech-bubble::after {
	content: '';
	position: absolute;
	bottom: -15px;
	left: 30px;
	width: 0;
	height: 0;
	border-left: 15px solid transparent;
	border-right: 15px solid transparent;
	border-top: 15px solid var(--manga-ink);
}

.speech-bubble::before {
	content: '';
	position: absolute;
	bottom: -10px;
	left: 33px;
	width: 0;
	height: 0;
	border-left: 12px solid transparent;
	border-right: 12px solid transparent;
	border-top: 12px solid var(--manga-white);
	z-index: 1;
}

.speech-bubble-right::after {
	left: auto;
	right: 30px;
}

.speech-bubble-right::before {
	left: auto;
	right: 33px;
}

/* Thought Bubble */
.thought-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 3px solid var(--manga-ink);
	border-radius: 30px;
	padding: 20px 28px;
	font-style: italic;
	box-shadow: 4px 4px 0 var(--manga-ink);
	transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
	cursor: default;
}

.thought-bubble:hover {
	transform: translateY(-5px) scale(1.02);
	box-shadow: 8px 8px 0 var(--manga-ink);
	border-color: var(--manga-accent);
}

.thought-bubble::after {
	content: 'â—‹ â—‹';
	position: absolute;
	bottom: -25px;
	left: 40px;
	font-size: 14px;
	color: var(--manga-ink);
	letter-spacing: 5px;
	transition: all 0.2s ease;
}

.thought-bubble:hover::after {
	color: var(--manga-accent);
	transform: scale(1.1);
}

/* ===== COMIC-STYLE DIALOGUE BOXES ===== */

/* Main Comic Bubble - Cloud Style */
.comic-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 4px solid var(--manga-ink);
	padding: 16px 22px;
	font-weight: 600;
	font-size: 1rem;
	border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
	box-shadow: 4px 4px 0 var(--manga-ink);
	transition: all 0.2s ease;
}

/* Cloud bubble tail */
.comic-bubble::after {
	content: '';
	position: absolute;
	bottom: -20px;
	left: 30px;
	width: 25px;
	height: 20px;
	background: var(--manga-white);
	border: 4px solid var(--manga-ink);
	border-radius: 50%;
	border-top: none;
	clip-path: ellipse(50% 100% at 50% 0%);
}

.comic-bubble::before {
	content: '';
	position: absolute;
	bottom: -35px;
	left: 40px;
	width: 15px;
	height: 12px;
	background: var(--manga-white);
	border: 3px solid var(--manga-ink);
	border-radius: 50%;
}

/* Hover effect */
.comic-bubble:hover {
	transform: scale(1.02) rotate(-1deg);
	box-shadow: 6px 6px 0 var(--manga-ink);
}

/* Explosion Bubble - Starburst with Halftone & Cloud Puffs */
.explosion-bubble {
	position: relative;
	display: inline-block;
	background: var(--manga-white);
	color: var(--manga-ink);
	padding: 16px 32px;
	font-weight: 900;
	font-size: 1.1rem;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	border: 4px solid var(--manga-ink);
	clip-path: polygon(50% 0%, 58% 8%, 70% 2%, 72% 15%, 88% 8%, 85% 22%,
			100% 25%, 92% 38%, 100% 50%, 92% 62%, 100% 75%, 85% 78%,
			88% 92%, 72% 85%, 70% 98%, 58% 92%, 50% 100%, 42% 92%,
			30% 98%, 28% 85%, 12% 92%, 15% 78%, 0% 75%, 8% 62%,
			0% 50%, 8% 38%, 0% 25%, 15% 22%, 12% 8%, 28% 15%,
			30% 2%, 42% 8%);
	filter: drop-shadow(4px 4px 0 var(--manga-ink));
	transition: all 0.2s ease;
}

/* Cloud puff - left */
.explosion-bubble::before {
	content: '';
	position: absolute;
	left: -15px;
	top: 50%;
	transform: translateY(-50%);
	width: 20px;
	height: 16px;
	background: var(--manga-white);
	border: 3px solid var(--manga-ink);
	border-radius: 50%;
	z-index: -1;
}

/* Cloud puff - right */
.explosion-bubble::after {
	content: '';
	position: absolute;
	right: -15px;
	top: 50%;
	transform: translateY(-50%);
	width: 20px;
	height: 16px;
	background: var(--manga-white);
	border: 3px solid var(--manga-ink);
	border-radius: 50%;
	z-index: -1;
}

.explosion-bubble:hover {
	transform: scale(1.05);
	filter: drop-shadow(6px 6px 0 var(--manga-accent));
}

/* Comic Burst - Main dialogue style with halftone */
.comic-burst {
	position: relative;
	display: inline-block;
	background: var(--manga-white);
	color: var(--manga-ink);
	padding: 18px 36px 28px;
	font-weight: 900;
	font-size: 1.2rem;
	text-transform: uppercase;
	letter-spacing: 0.08em;
	border: 5px solid var(--manga-ink);
	clip-path: polygon(50% 0%, 60% 6%, 72% 0%, 75% 12%, 90% 6%, 88% 20%,
			100% 22%, 95% 35%, 100% 50%, 95% 65%, 100% 78%, 88% 80%,
			90% 94%, 75% 88%, 72% 100%, 60% 94%, 50% 100%, 40% 94%,
			28% 100%, 25% 88%, 10% 94%, 12% 80%, 0% 78%, 5% 65%,
			0% 50%, 5% 35%, 0% 22%, 12% 20%, 10% 6%, 25% 12%,
			28% 0%, 40% 6%);
	filter: drop-shadow(5px 5px 0 var(--manga-ink));
	transition: all 0.2s ease;
	overflow: hidden;
}

/* Halftone dots at bottom */
.comic-burst::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 30px;
	background-image: radial-gradient(circle, var(--manga-ink) 1.5px, transparent 1.5px);
	background-size: 6px 6px;
	opacity: 0.4;
	pointer-events: none;
}

/* Cloud puff decorations */
.comic-burst::before {
	content: 'ðŸ’¥';
	position: absolute;
	font-size: 0.8rem;
	top: 5px;
	left: 10px;
	opacity: 0.3;
}

.comic-burst:hover {
	transform: scale(1.05) rotate(-1deg);
	filter: drop-shadow(7px 7px 0 var(--manga-accent));
}

/* Rectangular Speech Box - Classic Manga */
.speech-box {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 4px solid var(--manga-ink);
	padding: 16px 20px;
	font-weight: 600;
	border-radius: 8px;
	box-shadow: 5px 5px 0 var(--manga-ink);
	transition: all 0.2s ease;
}

.speech-box::after {
	content: '';
	position: absolute;
	bottom: -18px;
	left: 25px;
	width: 0;
	height: 0;
	border-left: 15px solid transparent;
	border-right: 15px solid transparent;
	border-top: 18px solid var(--manga-ink);
}

.speech-box::before {
	content: '';
	position: absolute;
	bottom: -12px;
	left: 28px;
	width: 0;
	height: 0;
	border-left: 12px solid transparent;
	border-right: 12px solid transparent;
	border-top: 14px solid var(--manga-white);
	z-index: 1;
}

.speech-box:hover {
	transform: translateY(-3px);
	box-shadow: 8px 8px 0 var(--manga-ink);
	border-color: var(--manga-accent);
}

/* Right tail variant */
.speech-box.tail-right::after {
	left: auto;
	right: 25px;
}

.speech-box.tail-right::before {
	left: auto;
	right: 28px;
}

/* No tail */
.speech-box.no-tail::after,
.speech-box.no-tail::before {
	display: none;
}

/* Dark variant */
.speech-box.dark {
	background: var(--manga-ink);
	color: var(--manga-white);
	border-color: var(--manga-accent);
	box-shadow: 5px 5px 0 var(--manga-accent);
}

.speech-box.dark::after {
	border-top-color: var(--manga-accent);
}

.speech-box.dark::before {
	border-top-color: var(--manga-ink);
}

/* Accent variant */
.speech-box.accent {
	border-color: var(--manga-accent);
	box-shadow: 5px 5px 0 var(--manga-accent);
}

/* Small compact variant */
.speech-box.small {
	padding: 10px 14px;
	font-size: 0.9rem;
	border-width: 3px;
}

.speech-box.small::after,
.speech-box.small::before {
	display: none;
}

/* Inline tag style */
.comic-tag {
	display: inline-block;
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 3px solid var(--manga-ink);
	padding: 6px 14px;
	font-weight: 700;
	font-size: 0.85rem;
	border-radius: 20px;
	box-shadow: 3px 3px 0 var(--manga-ink);
	transition: all 0.2s ease;
}

.comic-tag:hover {
	transform: translateY(-2px) rotate(-2deg);
	box-shadow: 5px 5px 0 var(--manga-accent);
	border-color: var(--manga-accent);
}

/* Halftone background panel */
.halftone-panel {
	position: relative;
	overflow: hidden;
}

.halftone-panel::before {
	content: '';
	position: absolute;
	inset: 0;
	background-image: radial-gradient(circle, rgba(0, 0, 0, 0.15) 1px, transparent 1px);
	background-size: 4px 4px;
	pointer-events: none;
}

/* Speed lines background */
.speed-lines-panel {
	position: relative;
	overflow: hidden;
}

.speed-lines-panel::before {
	content: '';
	position: absolute;
	inset: 0;
	background: repeating-linear-gradient(90deg,
			transparent 0px,
			transparent 8px,
			rgba(0, 0, 0, 0.08) 8px,
			rgba(0, 0, 0, 0.08) 9px);
	pointer-events: none;
}

/* Popup animation */
.popup-trigger {
	position: relative;
}

.popup-trigger .popup-content {
	position: absolute;
	bottom: 100%;
	left: 50%;
	transform: translateX(-50%) translateY(10px) scale(0.9);
	opacity: 0;
	visibility: hidden;
	transition: all 0.25s cubic-bezier(0.68, -0.55, 0.265, 1.55);
	z-index: 50;
	pointer-events: none;
	margin-bottom: 20px;
}

.popup-trigger:hover .popup-content {
	transform: translateX(-50%) translateY(0) scale(1);
	opacity: 1;
	visibility: visible;
}

/* Popup speech box */
.popup-box {
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 3px solid var(--manga-ink);
	border-radius: 8px;
	padding: 10px 16px;
	font-weight: 600;
	font-size: 0.85rem;
	box-shadow: 4px 4px 0 var(--manga-ink);
	white-space: nowrap;
}

.popup-box::after {
	content: '';
	position: absolute;
	bottom: -12px;
	left: 50%;
	transform: translateX(-50%);
	width: 0;
	height: 0;
	border-left: 10px solid transparent;
	border-right: 10px solid transparent;
	border-top: 12px solid var(--manga-ink);
}

/* Keep manga-dialogue-box as alias for speech-box */
.manga-dialogue-box {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	border: 4px solid var(--manga-ink);
	padding: 16px 20px;
	font-weight: 600;
	border-radius: 8px;
	box-shadow: 5px 5px 0 var(--manga-ink);
	transition: all 0.2s ease;
}

.manga-dialogue-box::after {
	content: '';
	position: absolute;
	bottom: -18px;
	left: 25px;
	width: 0;
	height: 0;
	border-left: 15px solid transparent;
	border-right: 15px solid transparent;
	border-top: 18px solid var(--manga-ink);
}

.manga-dialogue-box::before {
	content: '';
	position: absolute;
	bottom: -12px;
	left: 28px;
	width: 0;
	height: 0;
	border-left: 12px solid transparent;
	border-right: 12px solid transparent;
	border-top: 14px solid var(--manga-white);
	z-index: 1;
}

.manga-dialogue-box:hover {
	transform: translateY(-3px);
	box-shadow: 8px 8px 0 var(--manga-ink);
	border-color: var(--manga-accent);
}

.manga-dialogue-box.no-tail::after,
.manga-dialogue-box.no-tail::before {
	display: none;
}

.manga-dialogue-box.dark {
	background: var(--manga-ink);
	color: var(--manga-white);
	border-color: var(--manga-accent);
}

.manga-dialogue-box.dark::after {
	border-top-color: var(--manga-accent);
}

.manga-dialogue-box.dark::before {
	border-top-color: var(--manga-ink);
}

.manga-dialogue-box.inline {
	display: inline-block;
	padding: 8px 16px;
	font-size: 0.9rem;
}

.manga-dialogue-box.inline::after,
.manga-dialogue-box.inline::before {
	display: none;
}

.manga-dialogue-box.small {
	padding: 10px 14px;
	font-size: 0.9rem;
	border-width: 3px;
}

.manga-dialogue-box.small::after,
.manga-dialogue-box.small::before {
	display: none;
}

/* Shout Bubble - Spiky edges */
.shout-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	padding: 15px 22px;
	font-weight: 900;
	text-transform: uppercase;
	border: 3px solid var(--manga-ink);
	clip-path: polygon(0% 10%, 3% 0%, 10% 8%, 20% 0%, 30% 10%, 40% 2%, 50% 10%, 60% 2%, 70% 10%, 80% 0%, 90% 8%, 97% 0%, 100% 10%,
			100% 90%, 97% 100%, 90% 92%, 80% 100%, 70% 90%, 60% 98%, 50% 90%, 40% 98%, 30% 90%, 20% 100%, 10% 92%, 3% 100%, 0% 90%);
}

/* Angular Bubble - Sharp corners like manga */
.angular-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	padding: 16px 24px;
	border: 3px solid var(--manga-ink);
	clip-path: polygon(0 0, 95% 0, 100% 15%, 100% 100%, 5% 100%, 0 85%);
}

.angular-bubble::after {
	content: '';
	position: absolute;
	bottom: -12px;
	left: 25px;
	width: 0;
	height: 0;
	border-left: 12px solid transparent;
	border-right: 12px solid transparent;
	border-top: 12px solid var(--manga-ink);
}

/* Action Bubble - Dynamic shape */
.action-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	padding: 18px 28px;
	font-weight: 800;
	border: 4px solid var(--manga-ink);
	box-shadow: 5px 5px 0 var(--manga-ink);
	transform: skewX(-2deg);
}

.action-bubble::before {
	content: '';
	position: absolute;
	bottom: -15px;
	left: 30px;
	width: 25px;
	height: 15px;
	background: var(--manga-white);
	border: 4px solid var(--manga-ink);
	border-top: none;
	clip-path: polygon(0 0, 100% 0, 50% 100%);
}

/* Dramatic Bubble - For important statements */
.dramatic-bubble {
	position: relative;
	background: var(--manga-ink);
	color: var(--manga-white);
	padding: 20px 30px;
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	border: 4px solid var(--manga-accent);
	box-shadow: 6px 6px 0 var(--manga-accent);
}

.dramatic-bubble::after {
	content: '';
	position: absolute;
	bottom: -18px;
	left: 40px;
	width: 0;
	height: 0;
	border-left: 15px solid transparent;
	border-right: 15px solid transparent;
	border-top: 18px solid var(--manga-accent);
}

/* Cloud Bubble - Soft edges */
.cloud-bubble {
	position: relative;
	background: var(--manga-white);
	color: var(--manga-ink);
	border-radius: 30px 30px 30px 5px;
	padding: 16px 24px;
	border: 3px solid var(--manga-ink);
	box-shadow: 4px 4px 0 var(--manga-ink);
}

/* Explosion/Impact Bubble */
.explosion-bubble {
	position: relative;
	background: var(--manga-accent);
	color: var(--manga-ink);
	padding: 20px 30px;
	font-weight: 900;
	font-size: 1.1rem;
	text-transform: uppercase;
	letter-spacing: 0.1em;
	clip-path: polygon(50% 0%, 63% 18%, 85% 8%, 78% 30%, 100% 38%, 85% 52%, 98% 72%, 75% 68%, 72% 90%, 50% 78%,
			28% 90%, 25% 68%, 2% 72%, 15% 52%, 0% 38%, 22% 30%, 15% 8%, 37% 18%);
}

/* Whisper Bubble */
.whisper-bubble {
	position: relative;
	background: rgba(255, 255, 255, 0.9);
	color: var(--manga-ink);
	border: 2px dashed var(--manga-ink);
	border-radius: 12px;
	padding: 12px 18px;
	font-style: italic;
	font-size: 0.9rem;
}

/* Exclamation Box */
.exclaim-box {
	display: inline-block;
	background: var(--manga-accent);
	color: var(--manga-ink);
	border: 3px solid var(--manga-ink);
	padding: 8px 20px;
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 0.1em;
	transform: rotate(-2deg);
}

/* ===== MANGA TYPOGRAPHY ===== */
.manga-title {
	font-family: 'Inter', sans-serif !important;
	font-weight: 800 !important;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	line-height: 1.2;
	font-size: 3rem;
	text-align: center;
}

.manga-subtitle {
	font-family: 'Inter', sans-serif !important;
	font-weight: 600 !important;
	letter-spacing: 0.05em;
	text-transform: uppercase;
	font-size: 1.75rem;
	line-height: 1.4;
}

.text-outline {
	text-shadow:
		-2px -2px 0 var(--manga-ink),
		2px -2px 0 var(--manga-ink),
		-2px 2px 0 var(--manga-ink),
		2px 2px 0 var(--manga-ink);
}

.text-outline-thick {
	text-shadow:
		-3px -3px 0 var(--manga-ink),
		3px -3px 0 var(--manga-ink),
		-3px 3px 0 var(--manga-ink),
		3px 3px 0 var(--manga-ink),
		6px 6px 0 rgba(0, 0, 0, 0.5);
}

/* ===== SPEED LINES ===== */
.speed-lines-bg {
	position: absolute;
	inset: 0;
	background:
		repeating-linear-gradient(90deg,
			transparent 0px,
			transparent 20px,
			rgba(255, 255, 255, 0.03) 20px,
			rgba(255, 255, 255, 0.03) 21px);
	pointer-events: none;
}

.radial-speed-lines {
	position: absolute;
	inset: 0;
	background: radial-gradient(circle at center,
			transparent 30%,
			rgba(255, 255, 255, 0.02) 31%,
			transparent 32%);
	background-size: 8px 8px;
	pointer-events: none;
}

/* ===== HALFTONE EFFECT ===== */
.halftone {
	position: absolute;
	inset: 0;
	background-image:
		radial-gradient(circle, rgba(0, 0, 0, 0.15) 1px, transparent 1px);
	background-size: 4px 4px;
	opacity: 0.5;
	pointer-events: none;
}

/* ===== MANGA BUTTONS ===== */
.manga-button {
	display: inline-block;
	padding: 14px 32px;
	font-weight: 800;
	font-size: 0.95rem;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	border: 3px solid var(--manga-ink);
	background: var(--manga-accent);
	color: var(--manga-ink);
	cursor: pointer;
	transition: all 0.2s ease;
	box-shadow: 4px 4px 0 var(--manga-ink);
	text-decoration: none;
}

.manga-button:hover {
	transform: translate(-2px, -2px);
	box-shadow: 6px 6px 0 var(--manga-ink);
}

.manga-button:active {
	transform: translate(2px, 2px);
	box-shadow: 2px 2px 0 var(--manga-ink);
}

.manga-button-dark {
	background: var(--manga-ink);
	color: var(--manga-white);
	border-color: var(--manga-white);
	box-shadow: 4px 4px 0 var(--manga-white);
}

.manga-button-dark:hover {
	box-shadow: 6px 6px 0 var(--manga-white);
}

/* ===== STAT BARS (RPG Style) ===== */
.stat-bar {
	position: relative;
	width: 100%;
	height: 24px;
	background: rgba(255, 255, 255, 0.1);
	border: 2px solid var(--manga-white);
	overflow: hidden;
}

.stat-fill {
	height: 100%;
	background: linear-gradient(90deg, var(--manga-accent), #f59e0b);
	transition: width 0.8s ease-out;
	position: relative;
}

.stat-fill::after {
	content: '';
	position: absolute;
	inset: 0;
	background: repeating-linear-gradient(90deg,
			transparent 0px,
			transparent 8px,
			rgba(255, 255, 255, 0.2) 8px,
			rgba(255, 255, 255, 0.2) 10px);
}

/* ===== SECTION SPACING ===== */
.manga-section {
	margin-bottom: 40px;
	background: transparent;
	color: #ffffff;
	padding: 2rem 0;
}

.section-title {
	font-size: 2.5rem;
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 0.1em;
	margin-bottom: 24px;
	position: relative;
	display: inline-block;
}

.section-title::after {
	content: '';
	position: absolute;
	bottom: -8px;
	left: 0;
	width: 100%;
	height: 4px;
	background: var(--manga-accent);
}

/* ===== LINK STYLES ===== */
.manga-link {
	color: var(--manga-accent);
	text-decoration: none;
	font-weight: 600;
	border-bottom: 2px solid transparent;
	transition: border-color 0.2s ease;
}

.manga-link:hover {
	border-bottom-color: var(--manga-accent);
}

/* ===== SOCIAL ICONS ===== */
.social-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 48px;
	height: 48px;
	background: var(--manga-ink);
	border: 2px solid var(--manga-white);
	color: var(--manga-white);
	transition: all 0.2s ease;
}

.social-icon:hover {
	background: var(--manga-accent);
	color: var(--manga-ink);
	border-color: var(--manga-ink);
	transform: translateY(-3px);
}

/* ===== SCROLL ANIMATIONS ===== */
@keyframes fade-up {
	from {
		opacity: 0;
		transform: translateY(30px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.fade-in-up {
	animation: fade-up 0.6s ease forwards;
}

/* ===== CUSTOM SCROLLBAR ===== */
::-webkit-scrollbar {
	width: 10px;
}

::-webkit-scrollbar-track {
	background: var(--manga-ink);
}

::-webkit-scrollbar-thumb {
	background: var(--manga-gray);
	border: 2px solid var(--manga-ink);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--manga-accent);
}

/* ===== UTILITY CLASSES ===== */
.container-manga {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 20px;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
	.manga-page {
		padding: 70px 12px 30px;
	}

	.manga-panel {
		border-width: 3px;
		box-shadow: 5px 5px 0 rgba(0, 0, 0, 0.8);
	}

	.speech-bubble {
		padding: 12px 18px;
		border-radius: 16px;
	}

	.section-title {
		font-size: 1.8rem;
	}

	.manga-button {
		padding: 12px 24px;
		font-size: 0.85rem;
	}

	.manga-pop-text {
		font-size: 0.9rem !important;
		padding: 6px 12px;
	}

	.moving-text-strip {
		font-size: 1.2rem;
	}
}

/* ===== MANGA POP TEXT BUBBLES ===== */
.manga-pop-text {
	position: absolute;
	background: white;
	color: #1a1a1a;
	padding: 8px 16px;
	font-weight: 900;
	font-size: 1.1rem;
	border: 3px solid #1a1a1a;
	box-shadow: 4px 4px 0 #1a1a1a;
	transform: rotate(-3deg);
	animation: pop-bounce 3s ease-in-out infinite;
	z-index: 10;
	pointer-events: none;
}

.manga-pop-text::after {
	content: '';
	position: absolute;
	bottom: -12px;
	left: 20px;
	width: 0;
	height: 0;
	border-left: 10px solid transparent;
	border-right: 10px solid transparent;
	border-top: 12px solid #1a1a1a;
}

.manga-pop-text::before {
	content: '';
	position: absolute;
	bottom: -8px;
	left: 22px;
	width: 0;
	height: 0;
	border-left: 8px solid transparent;
	border-right: 8px solid transparent;
	border-top: 8px solid white;
	z-index: 1;
}

.manga-pop-text .jp {
	display: block;
	font-size: 1.4rem;
	color: #dc2626;
	text-shadow: 1px 1px 0 #fbbf24;
	line-height: 1.2;
}

.manga-pop-text .en {
	display: block;
	font-size: 0.65rem;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	color: #4a4a4a;
}

@keyframes pop-bounce {

	0%,
	100% {
		transform: rotate(-3deg) translateY(0) scale(1);
	}

	50% {
		transform: rotate(-3deg) translateY(-8px) scale(1.02);
	}
}

@keyframes pop-bounce-alt {

	0%,
	100% {
		transform: rotate(3deg) translateY(0) scale(1);
	}

	50% {
		transform: rotate(3deg) translateY(-10px) scale(1.03);
	}
}

.manga-pop-text.alt {
	animation-name: pop-bounce-alt;
	transform: rotate(3deg);
}

/* ===== MOVING TEXT STRIP ===== */
.moving-text-container {
	overflow: hidden;
	background: #1a1a1a;
	border-top: 3px solid #fbbf24;
	border-bottom: 3px solid #fbbf24;
	padding: 10px 0;
}

.moving-text-strip {
	display: flex;
	gap: 3rem;
	white-space: nowrap;
	animation: scroll-marquee 20s linear infinite;
	font-size: 1.5rem;
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 0.15em;
}

.moving-text-strip span {
	color: #fbbf24;
	display: flex;
	align-items: center;
	gap: 1rem;
}

.moving-text-strip span::after {
	content: 'â˜…';
	color: white;
}

@keyframes scroll-marquee {
	0% {
		transform: translateX(0);
	}

	100% {
		transform: translateX(-50%);
	}
}

/* ===== FLOATING KANJI BACKGROUND ===== */
.floating-kanji {
	position: absolute;
	font-size: 12rem;
	font-weight: 900;
	opacity: 0.04;
	pointer-events: none;
	z-index: 0;
	color: white;
	animation: float-gentle 8s ease-in-out infinite;
}

@keyframes float-gentle {

	0%,
	100% {
		transform: translateY(0);
	}

	50% {
		transform: translateY(-15px);
	}
}

/* ===== HOVER TEXT EFFECTS ===== */
.hover-wobble {
	transition: transform 0.3s ease;
}

.hover-wobble:hover {
	animation: wobble 0.5s ease;
}

@keyframes wobble {

	0%,
	100% {
		transform: rotate(0deg);
	}

	25% {
		transform: rotate(-3deg);
	}

	50% {
		transform: rotate(3deg);
	}

	75% {
		transform: rotate(-2deg);
	}
}

.hover-grow {
	transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-grow:hover {
	transform: scale(1.05);
	box-shadow: 12px 12px 0 rgba(0, 0, 0, 0.9);
}

.hover-shake:hover {
	animation: shake 0.3s ease;
}

@keyframes shake {

	0%,
	100% {
		transform: translateX(0);
	}

	25% {
		transform: translateX(-3px);
	}

	50% {
		transform: translateX(3px);
	}

	75% {
		transform: translateX(-2px);
	}
}

/* Text scramble effect on hover */
.hover-lift {
	transition: transform 0.2s ease, text-shadow 0.2s ease;
}

.hover-lift:hover {
	transform: translateY(-3px);
	text-shadow: 3px 3px 0 var(--manga-accent);
}

/* Pop effect for buttons and links */
.hover-pop {
	transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.hover-pop:hover {
	transform: scale(1.1) rotate(-2deg);
}

/* Manga panel hover */
.manga-panel.hover-effect:hover {
	transform: translateY(-5px) rotate(-0.5deg);
	box-shadow: 15px 15px 0 rgba(0, 0, 0, 0.9);
}

/* Thought bubble hover bounce */
.thought-bubble:hover {
	animation: bubble-bounce 0.3s ease;
}

@keyframes bubble-bounce {

	0%,
	100% {
		transform: scale(1);
	}

	50% {
		transform: scale(1.02);
	}
}

/* ===== PARALLAX EFFECT (W3Schools Style) ===== */
.parallax {
	/* The image used */
	background-attachment: fixed;
	background-position: center;
	background-repeat: no-repeat;
	background-size: cover;
	position: relative;
	min-height: 400px;
	border-top: 6px solid #1a1a1a;
	border-bottom: 6px solid #1a1a1a;
	box-shadow: inset 0 4px 0 rgba(0, 0, 0, 0.1), inset 0 -4px 0 rgba(0, 0, 0, 0.1);
}

/* Parallax sections with manga texture overlay */
.parallax::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: repeating-linear-gradient(0deg,
			transparent,
			transparent 2px,
			rgba(0, 0, 0, 0.03) 2px,
			rgba(0, 0, 0, 0.03) 4px);
	z-index: 1;
}

.parallax>* {
	position: relative;
	z-index: 2;
}

/* Centered content in parallax */
.parallax-content {
	display: flex;
	align-items: center;
	justify-content: center;
	min-height: 400px;
	padding: 60px 20px;
}

.parallax-content h3 {
	color: #ffffff;
	letter-spacing: 0.2em;
	font-weight: 900;
}

/* Hero parallax - One Piece adventure manga style */
.parallax-hero {
	background-color: #ffffff;
	background-image:
		url('/onepiece-bg.png'),
		radial-gradient(circle, #1a1a1a 1px, transparent 1px),
		radial-gradient(circle, #1a1a1a 1px, transparent 1px);
	background-size: cover, 20px 20px, 20px 20px;
	background-position: center, 0 0, 10px 10px;
	background-blend-mode: multiply, normal, normal;
	min-height: 600px;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Projects parallax - Speed lines manga effect */
.parallax-projects {
	background-color: #fafaff;
	background-image:
		repeating-linear-gradient(45deg,
			transparent,
			transparent 10px,
			rgba(251, 191, 36, 0.1) 10px,
			rgba(251, 191, 36, 0.1) 11px),
		repeating-linear-gradient(-45deg,
			transparent,
			transparent 10px,
			rgba(251, 191, 36, 0.1) 10px,
			rgba(251, 191, 36, 0.1) 11px);
	min-height: 300px;
}

/* Contact parallax - Comic book dots pattern */
.parallax-contact {
	background-color: #ffffff;
	background-image:
		radial-gradient(circle at 25% 25%, rgba(251, 191, 36, 0.15) 2px, transparent 2px),
		radial-gradient(circle at 75% 75%, rgba(251, 191, 36, 0.15) 2px, transparent 2px),
		radial-gradient(circle at 25% 75%, #1a1a1a 1px, transparent 1px),
		radial-gradient(circle at 75% 25%, #1a1a1a 1px, transparent 1px);
	background-size: 30px 30px, 30px 30px, 30px 30px, 30px 30px;
	background-position: 0 0, 15px 15px, 0 15px, 15px 0;
	min-height: 300px;
}

/* Smooth content sections - Consistent alignment */
.content-section {
	background-color: transparent;
	padding: 2rem 0;
	position: relative;
	z-index: 3;
}

/* Ensure manga-page alignment */
.manga-page {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 20px;
}

/* ===== PARALLAX EFFECT (W3Schools Style) - FULL SCREEN ===== */

/* Base parallax container - Full screen with proper aspect ratio */
.parallax {
	position: relative;
	height: 100vh;
	/* Full viewport height */
	width: 100vw;
	/* Full viewport width */
	margin-left: calc(-50vw + 50%);
	/* Center full width */
	background-attachment: fixed;
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	/* Cover entire viewport while maintaining aspect ratio */
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: hidden;
	border-top: 5px solid var(--manga-ink);
	border-bottom: 5px solid var(--manga-ink);
}

/* Dark overlay for better text readability and drama */
.parallax::before {
	content: '';
	position: absolute;
	inset: 0;
	background: rgba(0, 0, 0, 0.5);
	/* Slightly darker for full screen */
	z-index: 1;
	animation: overlayPulse 3s ease-in-out infinite;
}

@keyframes overlayPulse {

	0%,
	100% {
		opacity: 0.5;
	}

	50% {
		opacity: 0.4;
	}
}

/* Content container - Enhanced for full screen */
.parallax-content {
	position: relative;
	z-index: 2;
	text-align: center;
	padding: 60px 40px;
	background: rgba(255, 255, 255, 0.05);
	backdrop-filter: blur(10px);
	border: 6px solid var(--manga-ink);
	box-shadow: 15px 15px 0 rgba(0, 0, 0, 0.9);
	max-width: 700px;
	margin: 0 auto;
	transform: scale(1);
	transition: all 0.3s ease;
}

.parallax-content:hover {
	transform: scale(1.02);
	box-shadow: 20px 20px 0 rgba(0, 0, 0, 0.9);
}

/* Hero parallax - Clean manga style (no images) */
.parallax-hero {
	background: transparent;
	height: 100vh;
}

/* Projects/ACTION parallax - Clean style */
.parallax-projects {
	background: transparent;
	height: 100vh;
}

.parallax-projects::before {
	background: transparent !important;
}

/* Contact parallax - Clean style */
.parallax-contact {
	background: transparent;
	height: 100vh;
}

.parallax-contact::before {
	background: transparent !important;
}

/* Manga title styling for parallax sections - Enhanced */
.manga-title {
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 0.15em;
	color: var(--manga-ink);
	margin: 0;
	padding: 0;
	font-size: 3.5rem;
	text-shadow:
		3px 3px 0 white,
		6px 6px 0 var(--manga-ink);
	animation: titlePop 0.5s ease-out;
}

@keyframes titlePop {
	0% {
		transform: scale(0.8);
		opacity: 0;
	}

	50% {
		transform: scale(1.1);
	}

	100% {
		transform: scale(1);
		opacity: 1;
	}
}

/* Tablet: Adjust for medium screens */
@media (max-width: 1024px) {
	.manga-title {
		font-size: 2.5rem;
	}

	.parallax-content {
		padding: 50px 30px;
		max-width: 600px;
	}
}

/* Mobile: Adjust for performance and readability */
@media (max-width: 768px) {
	.parallax {
		background-attachment: scroll;
		height: 70vh;
		margin-left: 0;
		width: 100%;
	}

	.parallax-hero {
		height: 80vh;
	}

	.parallax-projects,
	.parallax-contact {
		height: 60vh;
	}

	.parallax-content {
		padding: 40px 20px;
		max-width: 90%;
	}

	.manga-title {
		font-size: 2rem;
		text-shadow:
			2px 2px 0 white,
			4px 4px 0 var(--manga-ink);
	}
}