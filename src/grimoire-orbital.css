/* GRIMOIRE ORBITAL ANIMATION - Julius Novachrono Style */
.grimoire-section {
    position: relative;
    min-height: 800px;
    padding: 6rem 2rem;
    background: #f5f5f5;
    /* Uniform light gray background - no contrast */
    border-top: 5px solid #1a1a1a;
    border-bottom: 5px solid #1a1a1a;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    perspective: 3500px !important;
    perspective-origin: 50% 50%;
    transform-style: preserve-3d !important;
}

.grimoire-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 20% 30%, rgba(251, 191, 36, 0.15) 2px, transparent 2px),
        radial-gradient(circle at 60% 70%, rgba(251, 191, 36, 0.15) 2px, transparent 2px),
        radial-gradient(circle at 80% 20%, rgba(251, 191, 36, 0.15) 2px, transparent 2px);
    background-size: 50px 50px, 80px 80px, 60px 60px;
    animation: magicalParticles 20s linear infinite;
    pointer-events: none;
}

.grimoire-section::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(251, 191, 36, 0.3) 0%, transparent 70%);
    animation: pulseGlow 4s ease-in-out infinite;
    pointer-events: none;
}

@keyframes pulseGlow {

    0%,
    100% {
        opacity: 0.3;
        transform: translate(-50%, -50%) scale(1);
    }

    50% {
        opacity: 0.6;
        transform: translate(-50%, -50%) scale(1.2);
    }
}

@keyframes magicalParticles {
    0% {
        transform: translateY(0) rotate(0deg);
    }

    100% {
        transform: translateY(-100px) rotate(360deg);
    }
}

.grimoire-container {
    position: relative !important;
    width: 100%;
    max-width: 900px;
    height: 700px;
    display: flex !important;
    align-items: center;
    justify-content: center;
    transform-style: preserve-3d !important;
    transform: translateZ(0px) rotateX(5deg);
    grid-template-columns: unset !important;
    gap: unset !important;
}

.grimoire-book {
    position: absolute !important;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    animation: grimoireFloat 4s ease-in-out infinite;
    filter: drop-shadow(0 0 40px rgba(251, 191, 36, 0.8));
    grid-column: unset !important;
}

.grimoire-book img {
    width: 280px !important;
    max-width: unset !important;
    height: auto;
    display: block;
    margin: 0;
    border: 5px solid #1a1a1a;
    background: #fff;
    box-shadow:
        0 0 60px rgba(251, 191, 36, 0.6),
        inset 0 0 30px rgba(251, 191, 36, 0.3);
    animation: grimoirePulse 3s ease-in-out infinite;
}

@keyframes grimoireFloat {

    0%,
    100% {
        transform: translate(-50%, -50%) translateY(0) rotateZ(0deg);
    }

    25% {
        transform: translate(-50%, -50%) translateY(-15px) rotateZ(2deg);
    }

    50% {
        transform: translate(-50%, -50%) translateY(-8px) rotateZ(0deg);
    }

    75% {
        transform: translate(-50%, -50%) translateY(-15px) rotateZ(-2deg);
    }
}

@keyframes grimoirePulse {

    0%,
    100% {
        box-shadow: 0 0 60px rgba(251, 191, 36, 0.6), inset 0 0 30px rgba(251, 191, 36, 0.3);
    }

    50% {
        box-shadow: 0 0 100px rgba(251, 191, 36, 0.9), inset 0 0 50px rgba(251, 191, 36, 0.5);
    }
}

.manga-panel-float {
    position: absolute !important;
    width: 180px !important;
    overflow: hidden;
    border: 4px solid #1a1a1a;
    background: #fff;
    box-shadow:
        15px 15px 35px rgba(0, 0, 0, 0.4),
        8px 8px 15px rgba(0, 0, 0, 0.3),
        0 0 30px rgba(251, 191, 36, 0.3);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform-style: preserve-3d !important;
    top: 50%;
    left: 50%;
    backface-visibility: visible;
}

.manga-panel-float::before {
    content: '';
    position: absolute;
    inset: -2px;
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), transparent 50%, rgba(251, 191, 36, 0.1));
    border-radius: 2px;
    opacity: 0.6;
    pointer-events: none;
    z-index: -1;
}

.manga-panel-float::after {
    content: '';
    position: absolute;
    bottom: -25px;
    left: 10%;
    right: 10%;
    height: 20px;
    background: radial-gradient(ellipse, rgba(0, 0, 0, 0.3), transparent);
    filter: blur(8px);
    opacity: 0.6;
    pointer-events: none;
}

.manga-panel-float img {
    width: 100%;
    height: auto;
    display: block;
    filter: grayscale(30%) contrast(1.1);
    transition: filter 0.4s ease, transform 0.4s ease;
}

.manga-panel-float:hover {
    box-shadow:
        20px 20px 50px rgba(0, 0, 0, 0.6),
        10px 10px 25px rgba(0, 0, 0, 0.4),
        0 0 60px rgba(251, 191, 36, 0.8) !important;
    z-index: 100 !important;
    transform: scale(1.15) translateZ(80px) !important;
}

.manga-panel-float:hover::after {
    opacity: 0.9;
    transform: scale(1.3);
}

.manga-panel-float:hover img {
    filter: grayscale(0%) contrast(1.2) brightness(1.1);
    transform: scale(1.05);
}

/* Orbital animations */
/* Fast Solar System-style Orbital Speeds */
.manga-panel-float:nth-child(1) {
    animation: orbit1 4s linear infinite;
}

.manga-panel-float:nth-child(2) {
    animation: orbit2 4.5s linear infinite;
}

.manga-panel-float:nth-child(3) {
    animation: orbit3 5s linear infinite;
}

.manga-panel-float:nth-child(4) {
    animation: orbit4 5.5s linear infinite;
}

.manga-panel-float:nth-child(6) {
    animation: orbit6 6s linear infinite;
}

.manga-panel-float:nth-child(7) {
    animation: orbit7 6.5s linear infinite;
}

.manga-panel-float:nth-child(8) {
    animation: orbit8 7s linear infinite;
}

.manga-panel-float:nth-child(9) {
    animation: orbit9 7.5s linear infinite;
}

.manga-panel-float:nth-child(10) {
    animation: orbit10 8s linear infinite;
}

.manga-panel-float:nth-child(11) {
    animation: orbit11 4.2s linear infinite;
}

.manga-panel-float:nth-child(12) {
    animation: orbit12 4.8s linear infinite;
}

.manga-panel-float:nth-child(13) {
    animation: orbit13 5.3s linear infinite;
}

.manga-panel-float:nth-child(14) {
    animation: orbit14 5.8s linear infinite;
}

.manga-panel-float:nth-child(15) {
    animation: orbit15 6.3s linear infinite;
}

.manga-panel-float:nth-child(16) {
    animation: orbit16 6.8s linear infinite;
}

.manga-panel-float:nth-child(17) {
    animation: orbit17 7.3s linear infinite;
}

.manga-panel-float:nth-child(18) {
    animation: orbit18 7.8s linear infinite;
}

.manga-panel-float:nth-child(19) {
    animation: orbit19 4.6s linear infinite;
}

.manga-panel-float:nth-child(20) {
    animation: orbit20 5.1s linear infinite;
}

/* Orbital paths with enhanced 3D effects */
@keyframes orbit1 {
    from {
        transform: translate(-50%, -50%) rotate(0deg) translateX(300px) translateZ(0px) rotateY(0deg) rotateX(15deg) scale(0.95);
    }

    to {
        transform: translate(-50%, -50%) rotate(360deg) translateX(300px) translateZ(100px) rotateY(360deg) rotateX(15deg) scale(1.05);
    }
}

@keyframes orbit2 {
    from {
        transform: translate(-50%, -50%) rotate(40deg) translateX(280px) translateZ(-50px) rotateY(0deg) rotateX(-8deg) scale(1.02);
    }

    to {
        transform: translate(-50%, -50%) rotate(400deg) translateX(280px) translateZ(80px) rotateY(360deg) rotateX(-8deg) scale(0.98);
    }
}

@keyframes orbit3 {
    from {
        transform: translate(-50%, -50%) rotate(80deg) translateX(320px) translateZ(60px) rotateY(0deg) rotateX(20deg) scale(1.08);
    }

    to {
        transform: translate(-50%, -50%) rotate(440deg) translateX(320px) translateZ(-40px) rotateY(360deg) rotateX(20deg) scale(0.92);
    }
}

@keyframes orbit4 {
    from {
        transform: translate(-50%, -50%) rotate(120deg) translateX(290px) translateZ(-30px) rotateY(0deg) rotateX(-12deg) scale(0.96);
    }

    to {
        transform: translate(-50%, -50%) rotate(480deg) translateX(290px) translateZ(90px) rotateY(360deg) rotateX(-12deg) scale(1.04);
    }
}

@keyframes orbit6 {
    from {
        transform: translate(-50%, -50%) rotate(200deg) translateX(310px) translateZ(70px) rotateY(0deg) rotateX(12deg) scale(1.06);
    }

    to {
        transform: translate(-50%, -50%) rotate(560deg) translateX(310px) translateZ(-60px) rotateY(360deg) rotateX(12deg) scale(0.94);
    }
}

@keyframes orbit7 {
    from {
        transform: translate(-50%, -50%) rotate(240deg) translateX(295px) rotateY(0deg) rotateX(-12deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(600deg) translateX(295px) rotateY(360deg) rotateX(-12deg);
    }
}

@keyframes orbit8 {
    from {
        transform: translate(-50%, -50%) rotate(280deg) translateX(305px) rotateY(0deg) rotateX(6deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(640deg) translateX(305px) rotateY(360deg) rotateX(6deg);
    }
}

@keyframes orbit9 {
    from {
        transform: translate(-50%, -50%) rotate(160deg) translateX(315px) rotateY(0deg) rotateX(-8deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(520deg) translateX(315px) rotateY(360deg) rotateX(-8deg);
    }
}

@keyframes orbit10 {
    from {
        transform: translate(-50%, -50%) rotate(60deg) translateX(285px) rotateY(0deg) rotateX(12deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(420deg) translateX(285px) rotateY(360deg) rotateX(12deg);
    }
}

@keyframes orbit11 {
    from {
        transform: translate(-50%, -50%) rotate(20deg) translateX(305px) rotateY(0deg) rotateX(-6deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(380deg) translateX(305px) rotateY(360deg) rotateX(-6deg);
    }
}

@keyframes orbit12 {
    from {
        transform: translate(-50%, -50%) rotate(100deg) translateX(295px) rotateY(0deg) rotateX(11deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(460deg) translateX(295px) rotateY(360deg) rotateX(11deg);
    }
}

@keyframes orbit13 {
    from {
        transform: translate(-50%, -50%) rotate(140deg) translateX(310px) rotateY(0deg) rotateX(-9deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(500deg) translateX(310px) rotateY(360deg) rotateX(-9deg);
    }
}

@keyframes orbit14 {
    from {
        transform: translate(-50%, -50%) rotate(180deg) translateX(300px) rotateY(0deg) rotateX(7deg);
    }

    to {
        transform: translate(-50%, -50()) rotate(540deg) translateX(300px) rotateY(360deg) rotateX(7deg);
    }
}

@keyframes orbit15 {
    from {
        transform: translate(-50%, -50%) rotate(220deg) translateX(290px) rotateY(0deg) rotateX(-11deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(580deg) translateX(290px) rotateY(360deg) rotateX(-11deg);
    }
}

@keyframes orbit16 {
    from {
        transform: translate(-50%, -50%) rotate(260deg) translateX(305px) rotateY(0deg) rotateX(9deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(620deg) translateX(305px) rotateY(360deg) rotateX(9deg);
    }
}

@keyframes orbit17 {
    from {
        transform: translate(-50%, -50%) rotate(300deg) translateX(295px) rotateY(0deg) rotateX(-7deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(660deg) translateX(295px) rotateY(360deg) rotateX(-7deg);
    }
}

@keyframes orbit18 {
    from {
        transform: translate(-50%, -50%) rotate(340deg) translateX(310px) rotateY(0deg) rotateX(13deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(700deg) translateX(310px) rotateY(360deg) rotateX(13deg);
    }
}

@keyframes orbit19 {
    from {
        transform: translate(-50%, -50%) rotate(10deg) translateX(300px) rotateY(0deg) rotateX(-4deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(370deg) translateX(300px) rotateY(360deg) rotateX(-4deg);
    }
}

@keyframes orbit20 {
    from {
        transform: translate(-50%, -50%) rotate(50deg) translateX(290px) rotateY(0deg) rotateX(14deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(410deg) translateX(290px) rotateY(360deg) rotateX(14deg);
    }
}

@media (max-width: 768px) {
    .grimoire-section {
        min-height: 600px;
        padding: 3rem 1rem;
        perspective: 1200px !important;
    }

    .grimoire-container {
        height: 500px;
    }

    .grimoire-book img {
        width: 180px !important;
    }

    .manga-panel-float {
        width: 120px !important;
    }
}

/* Grimoire Modal Animation */
@keyframes grimoireModalPulse {

    0%,
    100% {
        box-shadow: 0 0 50px rgba(251, 191, 36, 0.8);
        filter: brightness(1);
    }

    50% {
        box-shadow: 0 0 80px rgba(251, 191, 36, 1);
        filter: brightness(1.1);
    }
}

/* Grimoire Modal Button Hover */
.grimoire-modal button:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 #1a1a1a !important;
    background: #fde047 !important;
}